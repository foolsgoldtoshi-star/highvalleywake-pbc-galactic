name: ðŸŒŠ Sync dev-unstable with pond-highdesert

on:
  push:
    branches: [ pond-highdesert ]
  workflow_dispatch:

permissions:
  contents: write

jobs:
  sync-dev-unstable:
    runs-on: ubuntu-latest
    
    steps:
    - name: ðŸŒŠ Checkout pond-highdesert
      uses: actions/checkout@v4
      with:
        ref: pond-highdesert
        token: ${{ secrets.GITHUB_TOKEN }}
        fetch-depth: 0

    - name: ðŸŒ¿ Configure Git
      run: |
        git config --global user.name "foolsgoldtoshi-star"
        git config --global user.email "foolsgoldtoshi@gmail.com"

    - name: âš¡ Force push to dev-unstable
      run: |
        echo "ðŸŒŠ Syncing dev-unstable with pond-highdesert..."
        git push origin pond-highdesert:dev-unstable --force
        echo "âœ… dev-unstable synced successfully!"

    - name: ðŸŽŠ Sync Complete
      run: |
        echo "ðŸŽŠ dev-unstable branch is now a forced mirror of pond-highdesert!"
        echo "ðŸŒ¿ Rolling development branch strategy active!"
